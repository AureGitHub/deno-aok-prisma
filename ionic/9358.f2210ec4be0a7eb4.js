"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9358],{1699:(E,d,l)=>{l.d(d,{Z:()=>t});var c=l(9401);class t{static giveMeEntity(m){switch(m){case"empleada":return[{name:"nombre",type:"text",title:"nombre",validators:[c.kI.required]},{name:"baja",type:"checkbox",title:"baja",default:!1}];case"servicio":return[{name:"fecha",type:"date",title:"fecha",validators:[c.kI.required]},{name:"horaInicio",type:"time",title:"Hora inicio",validators:[c.kI.required]},{name:"horaFin",type:"time",title:"hora fin",validators:[c.kI.required]},{name:"suplLevantar",type:"checkbox",title:"sup. Levantar",default:!0},{name:"pagado",type:"checkbox",title:"pagado",default:!1},{name:"empleadaId",type:"select",title:"Empleada",multiple:!1,coleccion:"empleadas",id:"id",desc:"nombre",validators:[c.kI.required]}];case"agenda":return[{name:"fecha",type:"date",title:"fecha",validators:[c.kI.required]},{name:"observacion",type:"text",title:"observaci\xf3n",validators:[c.kI.required]},{name:"tipoagendaId",type:"select",title:"Tipo",multiple:!1,coleccion:"tipoagenda",id:"id",desc:"descripcion",validators:[c.kI.required]}]}return[]}}},6014:(E,d,l)=>{l.d(d,{G:()=>Y});var c=l(5861),t=l(2504),s=l(9401),m=l(8175),_=l(7002),h=l(7241),p=l(4755);function x(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",9),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function C(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",10),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function y(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-checkbox",11),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("formControlName",e.name)}}function v(n,o){if(1&n&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function b(n,o){if(1&n&&(t.TgZ(0,"ion-select",13),t.YNc(1,v,2,2,"ion-select-option",14),t.qZA()),2&n){const e=t.oxw(3).$implicit,a=t.oxw(2);t.MGl("name","'",e.name,"'"),t.s9C("formControlName",e.name),t.xp6(1),t.Q6J("ngForOf",a.objlstSelect[e.name])}}function T(n,o){if(1&n&&(t.ynx(0),t.YNc(1,b,2,3,"ion-select",12),t.BQk()),2&n){const e=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.objlstSelect[e.name])}}function Z(n,o){if(1&n&&t._UZ(0,"ion-datetime",18),2&n){const e=t.oxw(3).$implicit;t.s9C("formControlName",e.name),t.Q6J("firstDayOfWeek",1)}}function I(n,o){1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",16),t.TgZ(4,"ion-modal",17),t.YNc(5,Z,1,2,"ng-template"),t.qZA()(),t.BQk()),2&n&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function S(n,o){if(1&n&&t._UZ(0,"ion-datetime",20),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function N(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,S,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function Q(n,o){if(1&n&&t._UZ(0,"ion-datetime",21),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function w(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,Q,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function k(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-label",6),t._uU(2),t.qZA(),t.ynx(3,7),t.YNc(4,x,2,2,"ng-container",8),t.YNc(5,C,2,2,"ng-container",8),t.YNc(6,y,2,1,"ng-container",8),t.YNc(7,T,2,1,"ng-container",8),t.YNc(8,I,6,1,"ng-container",8),t.YNc(9,N,6,2,"ng-container",8),t.YNc(10,w,6,2,"ng-container",8),t.BQk()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","datetime"),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","time")}}function J(n,o){if(1&n&&(t.TgZ(0,"ion-item"),t.YNc(1,k,11,9,"ng-container",1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",!e.hide)}}function O(n,o){1&n&&t._UZ(0,"ion-spinner")}function M(n,o){1&n&&(t.TgZ(0,"ion-label"),t._uU(1,"Guardar"),t.qZA())}function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.borrar())}),t._UZ(1,"ion-icon",23),t._uU(2," Borrar "),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.isDeleting)}}function G(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list"),t._UZ(1,"ion-item"),t.YNc(2,J,2,1,"ion-item",2),t.TgZ(3,"ion-item")(4,"ion-button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t._UZ(5,"ion-icon",4),t.YNc(6,O,1,0,"ion-spinner",1),t.YNc(7,M,2,0,"ion-label",1),t.qZA(),t.YNc(8,U,3,1,"ion-button",5),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.lstInput),t.xp6(2),t.Q6J("disabled",e.isSaving||!e.formGroup.valid),t.xp6(2),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.Q6J("ngIf",!e.isSaving),t.xp6(1),t.Q6J("ngIf",e.entity&&e.entity.id)}}let Y=(()=>{class n{set setEntity(e){this.lstInput=e;const a={};e.forEach(i=>{if(a[i.name]=new s.NI(""),i.validators){const r=[];i.validators.forEach(u=>{r.push(u)}),r.length>0&&a[i.name].setValidators(r)}}),this.formGroup=new s.cw(a),this.entity.id?(this.formGroup.addControl("id",new s.NI("")),this.formGroup.controls.id.setValue(this.entity.id),e.forEach(i=>{this.formGroup.controls[i.name].setValue(this.entity[i.name])})):(e.forEach(i=>{this.entity[i.name]&&this.formGroup.controls[i.name].setValue(this.entity[i.name])}),e.forEach(i=>{i.hasOwnProperty("default")&&this.formGroup.controls[i.name].setValue(i.default)})),this.CreateListForSelect(e)}constructor(e,a,i){this.alertController=e,this.utilService=a,this.myHttpService=i,this.lstInput=[],this.isSaving=!1,this.isDeleting=!1,this.objlstSelect={},this.saveEvent=new t.vpe,this.deleteEvent=new t.vpe}ngOnInit(){}CreateListForSelect(e){var a=this;e.forEach(function(){var i=(0,c.Z)(function*(r){if("select"==r.type){const u=new m.a("get","gestion-casa",r.coleccion);let A=yield a.myHttpService.ejecuteURL(u),f=[];A.forEach(g=>{f.push({id:parseInt(g[r.id]),desc:g[r.desc]})}),a.objlstSelect[r.name]=f}});return function(r){return i.apply(this,arguments)}}())}onSubmit(){this.lstInput.forEach(e=>{if(("date"==e.type||"datetime"==e.type||"time"==e.type)&&this.formGroup.controls[e.name].dirty){new Date(this.formGroup.controls[e.name].value);let i=this.utilService.toISOString(new Date(this.formGroup.controls[e.name].value));this.formGroup.controls[e.name].setValue(i)}}),this.saveEvent.emit(this.formGroup.value)}borrar(){var e=this;return(0,c.Z)(function*(){yield(yield e.alertController.create({header:"Antenci\xf3n!! se va a borrar el elemento. \xbfContinuar?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{e.deleteEvent.emit(e.formGroup.value)}}]})).present()})()}transformDate(e){let a=e.getFullYear(),i=e.getMonth()+1,r=e.getDate();return`${a}-${i<10?"0"+i:i}-${r<10?"0"+r:r}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.Br),t.Y36(h.f),t.Y36(m.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editor-entity"]],inputs:{entity:"entity",setEntity:"setEntity"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","success",3,"disabled","click"],["slot","start","name","save"],["color","danger",3,"disabled","click",4,"ngIf"],["position","stacked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text",3,"placeholder","formControlName"],["type","number",3,"placeholder","formControlName"],[3,"formControlName"],["interface","action-sheet","placeholder","Seleccione",3,"name","formControlName",4,"ngIf"],["interface","action-sheet","placeholder","Seleccione",3,"name","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["datetime","datetime"],[3,"keepContentsMounted"],["locale","es-ES","id","datetime",3,"firstDayOfWeek","formControlName"],[3,"datetime"],["presentation","date","locale","es-ES",3,"id","preferWheel","formControlName"],["presentation","time","locale","es-ES",3,"id","preferWheel","formControlName"],["color","danger",3,"disabled","click"],["slot","start","name","close-circle"]],template:function(e,a){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.YNc(1,G,9,5,"ion-list",1),t.qZA()),2&e&&(t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("ngIf",a.lstInput))},dependencies:[p.sg,p.O5,p.RF,p.n9,_.YG,_.nz,_.x4,_.Mj,_.gu,_.pK,_.Ie,_.Q$,_.q_,_.t9,_.n0,_.PQ,_.ki,_.w,_.as,_.QI,_.j9,s._Y,s.JJ,s.JL,s.sg,s.u]}),n})()}}]);