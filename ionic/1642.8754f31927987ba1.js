"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1642],{1642:(q,m,s)=>{s.r(m),s.d(m,{AgendaPageModule:()=>J});var f=s(4755),M=s(9401),d=s(7002),D=s(9915),p=s(5861),_=s(8175),t=s(2504),v=s(7241),S=s(3720);const T=["slider"];function w(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",null==e?null:e.id),t.xp6(1),t.Oqu(e.cor)}}function A(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",14),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function P(n,r){if(1&n&&(t.TgZ(0,"ion-col",15),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Oqu(e.cor)}}function Z(n,r){if(1&n&&(t.TgZ(0,"span",21),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.TotalEncargos)}}function y(n,r){if(1&n&&(t.TgZ(0,"ion-col"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.TotalComidas)}}function Y(n,r){if(1&n&&(t.TgZ(0,"ion-col",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(null==e?null:e.TotalCenas)}}const b=function(n,r,e){return{diasConEnventos:n,diasConEnventosSeleccionado:r,diasSinConEnventosSeleccionado:e}};function F(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"ion-col",18),t.NdJ("click",function(){const o=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.selectDay(o))}),t.TgZ(1,"ion-grid",19)(2,"ion-row")(3,"ion-col"),t._uU(4),t.TgZ(5,"sup"),t.YNc(6,Z,2,1,"span",20),t.qZA()()(),t.TgZ(7,"ion-row",21),t.YNc(8,y,2,1,"ion-col",22),t.YNc(9,Y,2,1,"ion-col",23),t.qZA()()()}if(2&n){const e=r.$implicit,a=t.oxw(2);t.Q6J("ngClass",t.kEZ(5,b,(null==e?null:e.TotalComidas)+(null==e?null:e.TotalCenas)+(null==e?null:e.TotalEncargos)>0&&!(null!=e&&e.fecha&&(null==e?null:e.fecha.getTime())===(null==a.dateSelected?null:a.dateSelected.getTime())),(null==e?null:e.TotalComidas)+(null==e?null:e.TotalCenas)+(null==e?null:e.TotalEncargos)>0&&(null==e?null:e.fecha)&&(null==e?null:e.fecha.getTime())===(null==a.dateSelected?null:a.dateSelected.getTime()),(null==e?null:e.TotalComidas)+(null==e?null:e.TotalCenas)==0&&(null==e?null:e.fecha)&&(null==e?null:e.fecha.getTime())===(null==a.dateSelected?null:a.dateSelected.getTime()))),t.xp6(4),t.hij("",null==e?null:e.dia," "),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.TotalEncargos)>0),t.xp6(2),t.Q6J("ngIf",(null==e?null:e.TotalComidas)>0),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.TotalCenas)>0)}}function x(n,r){if(1&n&&(t.TgZ(0,"ion-row",16),t.YNc(1,F,10,9,"ion-col",17),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}let E=(()=>{class n{set eventSource(e){this.setEventosInCalendar(e)}constructor(e){this.languageService=e,this.slideOpts={initialSlide:1,speed:400},this.refreshEnvents=new t.vpe,this.refreshSelectedDate=new t.vpe,this.getDateSelected=new t.vpe,this.dateSelected=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.dateParaMontarCalendar=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.today=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.months=[],this.Years=[],this.currentMonth=(new Date).getMonth(),this.currentYear=(new Date).getFullYear(),this.lstDiasMesinWeek=[]}ngOnInit(){this.setlanguaje(),this.Setyears(),this.getDiasMes(),this.refreshEnvents.emit(this.dateParaMontarCalendar),this.refreshSelectedDate.emit(this.dateSelected),this.TodayDesc=this.languageService.today[this.lan].des}changeDate(e,a){"month"==a?"add"==e?this.dateParaMontarCalendar.setMonth(this.dateParaMontarCalendar.getMonth()+1):"sub"==e&&this.dateParaMontarCalendar.setMonth(this.dateParaMontarCalendar.getMonth()-1):"year"==a&&("add"==e?this.dateParaMontarCalendar.setFullYear(this.dateParaMontarCalendar.getFullYear()+1):"sub"==e&&this.dateParaMontarCalendar.setFullYear(this.dateParaMontarCalendar.getFullYear()-1)),this.currentMonth=this.dateParaMontarCalendar.getMonth(),this.currentYear=this.dateParaMontarCalendar.getFullYear(),this.dateSelected=null,this.refreshSelectedDate.emit(this.dateSelected),this.refreshEnvents.emit(this.dateParaMontarCalendar),this.getDiasMes()}sliderChanges(){var e=this;return(0,p.Z)(function*(){const a=yield e.slider.getActiveIndex();2==a?e.changeDate("add","month"):0==a&&e.changeDate("sub","month"),e.slider.slideTo(1)})()}setEventosInCalendar(e){e&&this.lstDiasMesinWeek.forEach(a=>{a.forEach(i=>{i.fecha&&(i.TotalComidas=e.filter(o=>"comida"==o.servicio).filter(o=>o.fecha.getTime()===i.fecha.getTime()).length,i.TotalCenas=e.filter(o=>"cena"==o.servicio).filter(o=>o.fecha.getTime()===i.fecha.getTime()).length,i.TotalEncargos=e.filter(o=>"encargo"==o.servicio).filter(o=>o.fecha.getTime()===i.fecha.getTime()).length)})})}Setyears(){this.Years=[];for(var e=1930;e<(new Date).getFullYear()+10;e++)this.Years.push(e)}selectChangedMonth(e){this.currentMonth=parseInt(e.detail.value),this.dateParaMontarCalendar.setMonth(this.currentMonth),this.dateSelected&&this.currentMonth!=this.dateSelected.getMonth()&&(this.dateSelected=null),this.refreshEnvents.emit(this.dateParaMontarCalendar),this.getDiasMes()}selectChangedYear(e){this.currentYear=parseInt(e.detail.value),this.dateParaMontarCalendar.setFullYear(this.currentYear),this.currentYear!=this.dateSelected.getFullYear()&&(this.dateSelected=null),this.refreshEnvents.emit(this.dateParaMontarCalendar),this.getDiasMes()}SetToday(){this.dateParaMontarCalendar=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.currentMonth=this.dateParaMontarCalendar.getMonth(),this.currentYear=this.dateParaMontarCalendar.getFullYear(),this.getDiasMes(),this.dateSelected=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),this.refreshEnvents.emit(this.dateParaMontarCalendar),this.refreshSelectedDate.emit(this.dateSelected)}setlanguaje(){this.months=this.languageService.MonthsName[this.lan],this.days=this.languageService.daysName[this.lan]}padWithZero(e,a){return String(e).padStart(a,"0")}FormatShortDate(e){return e?`${this.padWithZero(e.getDate(),2)}/${this.padWithZero(e.getMonth()+1,2)}/${e.getFullYear()}`:"-"}getDiasMes(){var e=[];this.lstDiasMesinWeek=[];let a=this.dateParaMontarCalendar.getFullYear(),i=this.dateParaMontarCalendar.getMonth()+1,o=new Date(a,i,0).getDate();var c=new Date(a,i-1,1).getDay();if("EN"===this.lan)for(var l=1;l<=c;l++)e.push({dia:u,indice:l});else if(0==c)for(l=1;l<=6;l++)e.push({dia:u,indice:l});else for(l=1;l<c;l++)e.push({dia:u,indice:l});for(var u=1;u<=o;u++){var C=new Date(a,i-1,u);l=C.getDay(),e.push({fecha:C,dia:u,indice:l,TotalEnventos:0})}for(var h=[],g=1;g<=e.length;g++)h.push(e[g-1]),g%7==0&&(this.lstDiasMesinWeek.push(h),h=[]);if(h.length>0){for(g=h.length;g<7;g++)h.push({});this.lstDiasMesinWeek.push(h)}}selectDay(e){this.dateSelected=e&&e.fecha?e.fecha:this.dateSelected,this.refreshSelectedDate.emit(this.dateSelected),this.getDateSelected.emit(this.dateSelected)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.T))},n.\u0275cmp=t.Xpm({type:n,selectors:[["aure-date"]],viewQuery:function(e,a){if(1&e&&t.Gf(T,5),2&e){let i;t.iGM(i=t.CRH())&&(a.slider=i.first)}},inputs:{lan:"lan",eventSource:"eventSource"},outputs:{refreshEnvents:"refreshEnvents",refreshSelectedDate:"refreshSelectedDate",getDateSelected:"getDateSelected"},decls:22,vars:7,consts:[[1,"CabeceraDetalle"],["size","1",1,"CabeceraFilaDetalle"],[2,"font-size","10px","background-color","green",3,"click"],["size","1",3,"click"],["color","white","size","large","name","caret-back"],["size","1"],["color","white","size","large","name","caret-forward"],["size","3"],["interface","popover","placeholder","Mes",3,"value","ionChange"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","placeholder","A\xf1o",3,"value","ionChange"],[1,"cabeceraNameDay"],["class","cabecera",4,"ngFor","ngForOf"],["class","cabeceraDay",4,"ngFor","ngForOf"],[3,"value"],[1,"cabecera"],[1,"cabeceraDay"],["class","dias",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"dias",3,"ngClass","click"],[2,"width","99%","padding","0","margin","0"],["class","Sub_Sup",4,"ngIf"],[1,"Sub_Sup"],[4,"ngIf"],["style","text-decoration: underline",4,"ngIf"],[2,"text-decoration","underline"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-grid")(1,"ion-row",0)(2,"ion-col",1)(3,"span",2),t.NdJ("click",function(){return a.SetToday()}),t._uU(4),t.qZA()(),t.TgZ(5,"ion-col",3),t.NdJ("click",function(){return a.changeDate("sub","month")}),t._UZ(6,"ion-icon",4),t.qZA(),t._UZ(7,"ion-col",5),t.TgZ(8,"ion-col",3),t.NdJ("click",function(){return a.changeDate("add","month")}),t._UZ(9,"ion-icon",6),t.qZA(),t._UZ(10,"ion-col",5),t.TgZ(11,"ion-col",7)(12,"ion-select",8),t.NdJ("ionChange",function(o){return a.selectChangedMonth(o)}),t.YNc(13,w,2,2,"ion-select-option",9),t.qZA()(),t.TgZ(14,"ion-col",5),t._uU(15,"de"),t.qZA(),t.TgZ(16,"ion-col",7)(17,"ion-select",10),t.NdJ("ionChange",function(o){return a.selectChangedYear(o)}),t.YNc(18,A,2,2,"ion-select-option",9),t.qZA()()(),t.TgZ(19,"ion-row",11),t.YNc(20,P,2,1,"ion-col",12),t.qZA(),t.YNc(21,x,2,1,"ion-row",13),t.qZA()),2&e&&(t.xp6(4),t.Oqu(a.TodayDesc),t.xp6(8),t.s9C("value",a.currentMonth),t.xp6(1),t.Q6J("ngForOf",a.months),t.xp6(4),t.s9C("value",a.currentYear),t.xp6(1),t.Q6J("ngForOf",a.Years),t.xp6(2),t.Q6J("ngForOf",a.days),t.xp6(1),t.Q6J("ngForOf",a.lstDiasMesinWeek))},dependencies:[f.mk,f.sg,f.O5,d.wI,d.jY,d.gu,d.Nd,d.t9,d.n0,d.QI],styles:[".CabeceraDetalle[_ngcontent-%COMP%]{border-style:solid;display:flex;font-size:15px;font-weight:700;align-items:center;justify-content:center;vertical-align:center;background-color:navy;color:#f5f5f5;border-radius:3px}.cabeceraNameDay[_ngcontent-%COMP%]{background-color:#848484}.cabeceraDay[_ngcontent-%COMP%]{background-color:#f2f2f2}.ColCabeceraIconNav[_ngcontent-%COMP%]{display:flex;font-size:13px;align-items:center;cursor:pointer}.CabeceraIconNav[_ngcontent-%COMP%]{background-color:#a9a9a9}.cabecera[_ngcontent-%COMP%]{border-style:solid;border-width:1px;display:flex;align-items:center;justify-content:center}.dias[_ngcontent-%COMP%]{font-size:14px;font-weight:700;border-style:solid;border-width:1px;display:flex;align-items:center;justify-content:center;min-height:40px;border-radius:3px}.detalleDay[_ngcontent-%COMP%]{font-size:10px}.diaActual[_ngcontent-%COMP%]{font-weight:700;color:#0b3b0b}.diasConEnventos[_ngcontent-%COMP%]{color:#000;background-color:#6e6e6e;color:#fff}.Sub_Sup[_ngcontent-%COMP%]{font-size:8px}.diasConEnventosSeleccionado[_ngcontent-%COMP%]{background-color:#bdbdbd;color:#000}.diasSinConEnventosSeleccionado[_ngcontent-%COMP%]{background-color:#bdbdbd;color:#fff}"]}),n})();const O=[{path:"",component:(()=>{class n{constructor(e,a){this.utilService=e,this.myHttpService=a,this.highlightedDates=[]}ngOnInit(){this.loadList()}loadList(){var e=this;return(0,p.Z)(function*(){let a=new _.a("get","gestion-casa","turnos");e.isLoading=!0,e.highlightedDates=[];const i=[],o=yield e.myHttpService.ejecuteURL(a);o&&(o.forEach(c=>{const l=new Date(new Date(c.fecha).getFullYear(),new Date(c.fecha).getMonth(),new Date(c.fecha).getDate());i.push({title:"title",fecha:l,servicio:"comida"})}),e.highlightedDates=i,e.isLoading=!1)})()}ionChange(e){return(0,p.Z)(function*(){})()}refreshEnvents(e){}refreshSelectedDate(e){return(0,p.Z)(function*(){})()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.f),t.Y36(_.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["agenda-casa"]],decls:1,vars:2,consts:[[3,"lan","eventSource","refreshEnvents","refreshSelectedDate"]],template:function(e,a){1&e&&(t.TgZ(0,"aure-date",0),t.NdJ("refreshEnvents",function(o){return a.refreshEnvents(o)})("refreshSelectedDate",function(o){return a.refreshSelectedDate(o)}),t.qZA()),2&e&&t.Q6J("lan","ES")("eventSource",a.highlightedDates)},dependencies:[E]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[D.Bz.forChild(O),D.Bz]}),n})();var N=s(3399);let J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[f.ez,M.u5,d.Pc,k,N.q]}),n})()}}]);