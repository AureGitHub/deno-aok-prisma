"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9358],{1699:(h,d,c)=>{c.d(d,{Z:()=>t});var s=c(9401);class t{static giveMeEntity(m){switch(m){case"empleada":return[{name:"nombre",type:"text",title:"nombre",validators:[s.kI.required]},{name:"baja",type:"checkbox",title:"baja",default:!1}];case"servicio":return[{name:"fecha",type:"date",title:"fecha",validators:[s.kI.required]},{name:"horaInicio",type:"time",title:"Hora inicio",validators:[s.kI.required]},{name:"horaFin",type:"time",title:"hora fin",validators:[s.kI.required]},{name:"suplLevantar",type:"checkbox",title:"sup. Levantar",default:!0},{name:"pagado",type:"checkbox",title:"pagado",default:!1},{name:"empleadaId",type:"select",title:"Empleada",multiple:!1,coleccion:"empleadas",id:"id",desc:"nombre",validators:[s.kI.required]}];case"vips":return[{name:"nombre",type:"text",title:"nombre"}];case"vips-consumo":return[{name:"fk_vip",type:"text",title:"fk_vip",hide:!0},{name:"fecha",type:"date",title:"fecha"},{name:"pagado",type:"checkbox",title:"pagado"},{name:"producto",type:"select",title:"producto",multiple:!1,coleccion:"consumo-producto",id:"id",desc:"descripcion"}];case"consumo-producto":return[{name:"descripcion",type:"text",title:"producto"}];case"CartaOption":return[{name:"title",type:"text",title:"T\xedtulo"},{name:"carta",type:"checkbox",title:"Incluir en Carta",default:!0}];case"CartaItem":return[{name:"title",type:"text",title:"T\xedtulo"},{name:"descripcion",type:"text",title:"Descripci\xf3n"},{name:"fk_option",type:"select",title:"Categor\xeda",coleccion:"CartaOption",id:"id",desc:"title"},{name:"disponible",type:"checkbox",title:"Disponible",default:!0},{name:"precio",type:"number",title:"Precio"}];case"menu-dia":return[{name:"fecha",type:"date",title:"fecha"},{name:"precio",type:"number",title:"Precio",default:13.5},{name:"observacion",type:"text",title:"Observaci\xf3n"}];case"menu-dia-item":return[{name:"fk_MenuDia",type:"text",title:"fk_MenuDia",hide:!0},{name:"fk_CartaItem",type:"text",title:"fk_CartaItem",hide:!0},{name:"key",type:"text",title:"key",hide:!0}];case"comanda-estado":return[{name:"descripcion",type:"text",title:"Estado"}];case"comanda":return[{name:"fecha",type:"date",title:"fecha"},{name:"fk_MenuDia",type:"text",title:"fk_MenuDia",hide:!0},{name:"camarer@",type:"text",title:"Camarer@",hide:!0},{name:"mesa",type:"number",title:"Mesa",hide:!0},{name:"fk_estado",type:"select",title:"Estado",multiple:!1,coleccion:"comanda-estado",id:"id",desc:"descripcion"}]}return[]}}},6014:(h,d,c)=>{c.d(d,{G:()=>D});var s=c(5861),t=c(2504),l=c(9401),m=c(8175),r=c(7002),E=c(7241),p=c(4755);function x(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",9),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function y(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",10),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function C(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"ion-checkbox",11),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("formControlName",e.name)}}function v(n,o){if(1&n&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function b(n,o){if(1&n&&(t.TgZ(0,"ion-select",13),t.YNc(1,v,2,2,"ion-select-option",14),t.qZA()),2&n){const e=t.oxw(3).$implicit,a=t.oxw(2);t.MGl("name","'",e.name,"'"),t.s9C("formControlName",e.name),t.xp6(1),t.Q6J("ngForOf",a.objlstSelect[e.name])}}function T(n,o){if(1&n&&(t.ynx(0),t.YNc(1,b,2,3,"ion-select",12),t.BQk()),2&n){const e=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.objlstSelect[e.name])}}function k(n,o){if(1&n&&t._UZ(0,"ion-datetime",18),2&n){const e=t.oxw(3).$implicit;t.s9C("formControlName",e.name),t.Q6J("firstDayOfWeek",1)}}function Z(n,o){1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",16),t.TgZ(4,"ion-modal",17),t.YNc(5,k,1,2,"ng-template"),t.qZA()(),t.BQk()),2&n&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function I(n,o){if(1&n&&t._UZ(0,"ion-datetime",20),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function S(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,I,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function N(n,o){if(1&n&&t._UZ(0,"ion-datetime",21),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function Q(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,N,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function w(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-label",6),t._uU(2),t.qZA(),t.ynx(3,7),t.YNc(4,x,2,2,"ng-container",8),t.YNc(5,y,2,2,"ng-container",8),t.YNc(6,C,2,1,"ng-container",8),t.YNc(7,T,2,1,"ng-container",8),t.YNc(8,Z,6,1,"ng-container",8),t.YNc(9,S,6,2,"ng-container",8),t.YNc(10,Q,6,2,"ng-container",8),t.BQk()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","datetime"),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","time")}}function M(n,o){if(1&n&&(t.TgZ(0,"ion-item"),t.YNc(1,w,11,9,"ng-container",1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",!e.hide)}}function O(n,o){1&n&&t._UZ(0,"ion-spinner")}function J(n,o){1&n&&(t.TgZ(0,"ion-label"),t._uU(1,"Guardar"),t.qZA())}function U(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.borrar())}),t._UZ(1,"ion-icon",23),t._uU(2," Borrar "),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.isDeleting)}}function G(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list"),t._UZ(1,"ion-item"),t.YNc(2,M,2,1,"ion-item",2),t.TgZ(3,"ion-item")(4,"ion-button",3),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.onSubmit())}),t._UZ(5,"ion-icon",4),t.YNc(6,O,1,0,"ion-spinner",1),t.YNc(7,J,2,0,"ion-label",1),t.qZA(),t.YNc(8,U,3,1,"ion-button",5),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.lstInput),t.xp6(2),t.Q6J("disabled",e.isSaving||!e.formGroup.valid),t.xp6(2),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.Q6J("ngIf",!e.isSaving),t.xp6(1),t.Q6J("ngIf",e.entity&&e.entity.id)}}let D=(()=>{class n{set setEntity(e){this.lstInput=e;const a={};e.forEach(i=>{if(a[i.name]=new l.NI(""),i.validators){const _=[];i.validators.forEach(u=>{_.push(u)}),_.length>0&&a[i.name].setValidators(_)}}),this.formGroup=new l.cw(a),this.entity.id?(this.formGroup.addControl("id",new l.NI("")),this.formGroup.controls.id.setValue(this.entity.id),e.forEach(i=>{this.formGroup.controls[i.name].setValue(this.entity[i.name])})):(e.forEach(i=>{this.entity[i.name]&&this.formGroup.controls[i.name].setValue(this.entity[i.name])}),e.forEach(i=>{i.hasOwnProperty("default")&&this.formGroup.controls[i.name].setValue(i.default)})),this.CreateListForSelect(e)}constructor(e,a,i){this.alertController=e,this.utilService=a,this.myHttpService=i,this.lstInput=[],this.isSaving=!1,this.isDeleting=!1,this.objlstSelect={},this.saveEvent=new t.vpe,this.deleteEvent=new t.vpe}ngOnInit(){}CreateListForSelect(e){var a=this;e.forEach(function(){var i=(0,s.Z)(function*(_){if("select"==_.type){const u=new m.a("get","gestion-casa",_.coleccion);let Y=yield a.myHttpService.ejecuteURL(u),f=[];Y.forEach(g=>{f.push({id:parseInt(g[_.id]),desc:g[_.desc]})}),a.objlstSelect[_.name]=f}});return function(_){return i.apply(this,arguments)}}())}onSubmit(){this.lstInput.forEach(e=>{if(("date"==e.type||"datetime"==e.type||"time"==e.type)&&this.formGroup.controls[e.name].dirty){new Date(this.formGroup.controls[e.name].value);let i=this.utilService.toISOString(new Date(this.formGroup.controls[e.name].value));this.formGroup.controls[e.name].setValue(i)}}),this.saveEvent.emit(this.formGroup.value)}borrar(){var e=this;return(0,s.Z)(function*(){yield(yield e.alertController.create({header:"Antenci\xf3n!! se va a borrar el elemento. \xbfContinuar?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{e.deleteEvent.emit(e.formGroup.value)}}]})).present()})()}transformDate(e){let a=e.getFullYear(),i=e.getMonth()+1,_=e.getDate();return`${a}-${i<10?"0"+i:i}-${_<10?"0"+_:_}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(r.Br),t.Y36(E.f),t.Y36(m.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editor-entity"]],inputs:{entity:"entity",setEntity:"setEntity"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","success",3,"disabled","click"],["slot","start","name","save"],["color","danger",3,"disabled","click",4,"ngIf"],["position","stacked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text",3,"placeholder","formControlName"],["type","number",3,"placeholder","formControlName"],[3,"formControlName"],["interface","action-sheet","placeholder","Seleccione",3,"name","formControlName",4,"ngIf"],["interface","action-sheet","placeholder","Seleccione",3,"name","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["datetime","datetime"],[3,"keepContentsMounted"],["locale","es-ES","id","datetime",3,"firstDayOfWeek","formControlName"],[3,"datetime"],["presentation","date","locale","es-ES",3,"id","preferWheel","formControlName"],["presentation","time","locale","es-ES",3,"id","preferWheel","formControlName"],["color","danger",3,"disabled","click"],["slot","start","name","close-circle"]],template:function(e,a){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.YNc(1,G,9,5,"ion-list",1),t.qZA()),2&e&&(t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("ngIf",a.lstInput))},dependencies:[p.sg,p.O5,p.RF,p.n9,r.YG,r.nz,r.x4,r.Mj,r.gu,r.pK,r.Ie,r.Q$,r.q_,r.t9,r.n0,r.PQ,r.ki,r.w,r.as,r.QI,r.j9,l._Y,l.JJ,l.JL,l.sg,l.u]}),n})()}}]);