"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8846],{8846:(w,m,e)=>{e.r(m),e.d(m,{ListaCompraPageModule:()=>M});var u=e(4755),f=e(9401),c=e(7002),g=e(9915),p=e(5861),d=e(8175),C=e(5916),t=e(2504),L=e(6014),y=e(3380);function v(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div")(1,"app-editor-entity",3),t.NdJ("saveEvent",function(a){t.CHM(o);const r=t.oxw();return t.KtG(r.save(a))})("deleteEvent",function(a){t.CHM(o);const r=t.oxw();return t.KtG(r.borrar(a))})("cancelEvent",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.cancelToolEntity())}),t.qZA()()}if(2&i){const o=t.oxw();t.xp6(1),t.Q6J("entity",o.entitySelected)("setEntity",o.entityDescripcion)("isSaving",o.isSaving)("isDeleting",o.isDeleting)}}function P(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",4),t.NdJ("click",function(){const r=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.delLista(r))}),t.TgZ(2,"span",5),t._uU(3),t.qZA()()()}if(2&i){const o=s.$implicit;t.xp6(3),t.Oqu(o.descripcion)}}function T(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"span",6),t.NdJ("click",function(){const r=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.addLista(r))}),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"ion-icon",7),t.NdJ("click",function(){const r=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.selectItem(r))}),t.qZA()()()}if(2&i){const o=s.$implicit;t.xp6(3),t.Oqu(o.descripcion)}}let h=(()=>{class i extends C.t{constructor(o){super(o),this.myHttpService=o,this.lstListaCompra=[],this.entityName="producto"}ngOnInit(){var o=this;return(0,p.Z)(function*(){yield o.ngOnInitBase()})()}compare(o,n){return o.descripcion<n.descripcion?-1:o.descripcion>n.descripcion?1:0}ordenar(){this.lstPrincipal=this.lstPrincipal.sort(this.compare),this.lstListaCompra=this.lstListaCompra.sort(this.compare)}ownloadList(){var o=this;return(0,p.Z)(function*(){const n=new d.a("get",o.app,"lista-compra");o.lstListaCompra=[],o.lstListaCompra=yield o.myHttpService.ejecuteURL(n),o.ordenar()})()}addLista(o){var n=this;return(0,p.Z)(function*(){n.isLoading=!0;const a=new d.a("post",n.app,"lista-compra",null,{productoId:o.id},null);yield n.myHttpService.ejecuteURL(a),n.isLoading=!1,n.lstListaCompra.push({id:o.id,descripcion:o.descripcion,productoId:o.id}),n.lstPrincipal=n.lstPrincipal.filter(r=>r!=o),n.ordenar()})()}delLista(o){var n=this;return(0,p.Z)(function*(){n.isLoading=!0;const a=new d.a("delete",n.app,"lista-compra",null,null,o.productoId);yield n.myHttpService.ejecuteURL(a),n.isLoading=!1,n.lstPrincipal.push({id:o.productoId,descripcion:o.descripcion}),n.lstListaCompra=n.lstListaCompra.filter(r=>r!=o),n.ordenar()})()}}return i.\u0275fac=function(o){return new(o||i)(t.Y36(d.y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-lista-compra"]],features:[t.qOj],decls:14,vars:5,consts:[[3,"isLoading","entityDescripcion","addToolEntity","cancelToolEntity"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"entity","setEntity","isSaving","isDeleting","saveEvent","deleteEvent","cancelEvent"],[1,"hand",3,"click"],[1,"item"],[1,"item","hand",3,"click"],["name","pencil-outline",1,"hand",2,"font-size","20px",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"app-tool-entity",0),t.NdJ("addToolEntity",function(){return n.addToolEntity()})("cancelToolEntity",function(){return n.cancelToolEntity()}),t.qZA(),t.YNc(1,v,2,4,"div",1),t.TgZ(2,"ion-card")(3,"ion-card-title"),t._uU(4,"Lista"),t.qZA(),t.TgZ(5,"ion-card-content")(6,"ion-grid"),t.YNc(7,P,4,1,"ion-row",2),t.qZA()()(),t.TgZ(8,"ion-card")(9,"ion-card-title"),t._uU(10,"Productos"),t.qZA(),t.TgZ(11,"ion-card-content")(12,"ion-grid"),t.YNc(13,T,6,1,"ion-row",2),t.qZA()()()),2&o&&(t.Q6J("isLoading",n.isLoading)("entityDescripcion",n.entityDescripcion),t.xp6(1),t.Q6J("ngIf",n.entityDescripcion),t.xp6(6),t.Q6J("ngForOf",n.lstListaCompra),t.xp6(6),t.Q6J("ngForOf",n.lstPrincipal))},dependencies:[u.sg,u.O5,c.PM,c.FN,c.Dq,c.wI,c.jY,c.gu,c.Nd,L.G,y.d],styles:[".tableTitle[_ngcontent-%COMP%]{text-align:left;color:#fff;background-color:#444242;font-weight:700;font-size:14px}.tableRow[_ngcontent-%COMP%]{text-align:center;font-size:13px;cursor:pointer}.tableRowSeleded[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#00008b;cursor:pointer}.tableRow[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00008b}.item[_ngcontent-%COMP%]{border:solid 1px;padding:5px;border-radius:5px}"]}),i})();var _=e(2263);const x=[{path:"",component:h}];let E=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.Bz.forChild(x),_.M,g.Bz]}),i})();var Z=e(7147);let M=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,f.u5,c.Pc,E,Z.q,_.M]}),i})()}}]);