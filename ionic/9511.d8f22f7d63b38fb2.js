"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9511],{1699:(T,E,r)=>{r.d(E,{Z:()=>t});var i=r(9401);class t{static giveMeEntity(f){switch(f){case"empleada":return[{name:"nombre",type:"text",title:"nombre",validators:[i.kI.required]},{name:"baja",type:"checkbox",title:"baja",default:!1}];case"servicio":return[{name:"empleadaId",type:"select",title:"Empleada",multiple:!1,coleccion:"empleadas",id:"id",desc:"nombre",validators:[i.kI.required]},{name:"fecha",type:"date",title:"fecha",validators:[i.kI.required]},{name:"horaInicio",type:"time",title:"Hora inicio",validators:[i.kI.required]},{name:"horaFin",type:"time",title:"hora fin",validators:[i.kI.required]},{name:"suplLevantar",type:"checkbox",title:"sup. Levantar",default:!0},{name:"pagado",type:"checkbox",title:"pagado",default:!1},{name:"observacion",type:"text",title:"observaci\xf3n"}];case"agenda":return[{name:"fecha",type:"date",title:"fecha",validators:[i.kI.required]},{name:"observacion",type:"text",title:"observaci\xf3n",validators:[i.kI.required]},{name:"tipoagendaId",type:"select",title:"Tipo",multiple:!1,coleccion:"tipoagenda",id:"id",desc:"descripcion",validators:[i.kI.required]}];case"gasto":return[{name:"fecha",type:"date",title:"fecha",validators:[i.kI.required]},{name:"tipogastoId",type:"select",title:"Tipo",multiple:!1,coleccion:"tipogasto",id:"id",desc:"descripcion",validators:[i.kI.required],default:2},{name:"importe",type:"number",title:"importe",validators:[i.kI.required]},{name:"observacion",type:"text",title:"observaci\xf3n"}];case"tipo":return[{name:"descripcion",type:"text",title:"descripci\xf3n",validators:[i.kI.required]},{name:"color",type:"text",title:"color",validators:[i.kI.required]}]}return[]}}},6014:(T,E,r)=>{r.d(E,{G:()=>Y});var i=r(5861),t=r(2504),d=r(9401),f=r(8175),h=r(6575),c=r(7002),v=r(7241),x=r(5591),g=r(4755);function m(n,_){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",6),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function u(n,_){if(1&n&&(t.ynx(0),t._UZ(1,"ion-input",7),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",e.title),t.s9C("formControlName",e.name)}}function l(n,_){if(1&n&&(t.ynx(0),t._UZ(1,"ion-checkbox",8),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("formControlName",e.name)}}function p(n,_){if(1&n&&(t.TgZ(0,"ion-select-option",12),t._uU(1),t.qZA()),2&n){const e=_.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.desc)}}function y(n,_){if(1&n&&(t.TgZ(0,"ion-select",10),t.YNc(1,p,2,2,"ion-select-option",11),t.qZA()),2&n){const e=t.oxw(3).$implicit,a=t.oxw(2);t.MGl("name","'",e.name,"'"),t.s9C("formControlName",e.name),t.xp6(1),t.Q6J("ngForOf",a.objlstSelect[e.name])}}function b(n,_){if(1&n&&(t.ynx(0),t.YNc(1,y,2,3,"ion-select",9),t.BQk()),2&n){const e=t.oxw(2).$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a.objlstSelect[e.name])}}function O(n,_){if(1&n&&t._UZ(0,"ion-datetime",15),2&n){const e=t.oxw(3).$implicit;t.s9C("formControlName",e.name),t.Q6J("firstDayOfWeek",1)}}function M(n,_){1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",13),t.TgZ(4,"ion-modal",14),t.YNc(5,O,1,2,"ng-template"),t.qZA()(),t.BQk()),2&n&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function N(n,_){if(1&n&&t._UZ(0,"ion-datetime",17),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function P(n,_){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",16),t.TgZ(4,"ion-modal",14),t.YNc(5,N,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function S(n,_){if(1&n&&t._UZ(0,"ion-datetime",18),2&n){const e=t.oxw(3).$implicit;t.MGl("id","datetime_",e.name,""),t.s9C("formControlName",e.name),t.Q6J("preferWheel",!1)}}function k(n,_){if(1&n&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",16),t.TgZ(4,"ion-modal",14),t.YNc(5,S,1,3,"ng-template"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",e.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function D(n,_){if(1&n&&(t.ynx(0),t.TgZ(1,"ion-label",3),t._uU(2),t.qZA(),t.ynx(3,4),t.YNc(4,m,2,2,"ng-container",5),t.YNc(5,u,2,2,"ng-container",5),t.YNc(6,l,2,1,"ng-container",5),t.YNc(7,b,2,1,"ng-container",5),t.YNc(8,M,6,1,"ng-container",5),t.YNc(9,P,6,2,"ng-container",5),t.YNc(10,k,6,2,"ng-container",5),t.BQk()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngSwitch",e.type),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","datetime"),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","time")}}function Q(n,_){if(1&n&&(t.TgZ(0,"ion-item"),t.YNc(1,D,11,9,"ng-container",1),t.qZA()),2&n){const e=_.$implicit;t.xp6(1),t.Q6J("ngIf",!e.hide)}}function U(n,_){1&n&&t._UZ(0,"ion-spinner")}function w(n,_){1&n&&(t.TgZ(0,"ion-label"),t._uU(1,"Guardar"),t.qZA())}function J(n,_){if(1&n){const e=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.borrar())}),t._UZ(1,"ion-icon",23),t._uU(2," Borrar "),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("disabled",e.isDeleting)}}function A(n,_){if(1&n){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onSubmit())}),t._UZ(2,"ion-icon",20),t.YNc(3,U,1,0,"ion-spinner",1),t.YNc(4,w,2,0,"ion-label",1),t.qZA(),t.YNc(5,J,3,1,"ion-button",21),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isSaving||!e.formGroup.valid),t.xp6(2),t.Q6J("ngIf",e.isSaving),t.xp6(1),t.Q6J("ngIf",!e.isSaving),t.xp6(1),t.Q6J("ngIf",e.entity&&e.entity.id)}}function G(n,_){if(1&n&&(t.TgZ(0,"ion-list"),t._UZ(1,"ion-item"),t.YNc(2,Q,2,1,"ion-item",2),t.YNc(3,A,6,4,"ion-item",1),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.lstInput),t.xp6(1),t.Q6J("ngIf",e.havePermision)}}let Y=(()=>{class n{set setEntity(e){this.lstInput=e;const a={};e.forEach(o=>{if(a[o.name]=new d.NI(""),o.validators){const s=[];o.validators.forEach(C=>{s.push(C)}),s.length>0&&a[o.name].setValidators(s)}}),this.formGroup=new d.cw(a),this.entity.id?(this.formGroup.addControl("id",new d.NI("")),this.formGroup.controls.id.setValue(this.entity.id),e.forEach(o=>{this.formGroup.controls[o.name].setValue(this.entity[o.name])})):(e.forEach(o=>{this.entity[o.name]&&this.formGroup.controls[o.name].setValue(this.entity[o.name])}),e.forEach(o=>{o.hasOwnProperty("default")&&this.formGroup.controls[o.name].setValue(o.default)})),this.CreateListForSelect(e)}constructor(e,a,o,s){this.alertController=e,this.utilService=a,this.myHttpService=o,this.seguridadService=s,this.WhoHasPermision=[h.u.ADMIN,h.u.GOD],this.havePermision=!1,this.lstInput=[],this.isSaving=!1,this.isDeleting=!1,this.objlstSelect={},this.saveEvent=new t.vpe,this.deleteEvent=new t.vpe}ngOnInit(){const e=this.seguridadService.UserGet();this.havePermision=this.WhoHasPermision.some(a=>a==e.role)}CreateListForSelect(e){var a=this;e.forEach(function(){var o=(0,i.Z)(function*(s){if("select"==s.type){const C=new f.a("get","gestion-casa",s.coleccion);let L=yield a.myHttpService.ejecuteURL(C),I=[];L.forEach(Z=>{I.push({id:parseInt(Z[s.id]),desc:Z[s.desc]})}),a.objlstSelect[s.name]=I}});return function(s){return o.apply(this,arguments)}}())}onSubmit(){this.lstInput.forEach(e=>{if(("date"==e.type||"datetime"==e.type||"time"==e.type)&&this.formGroup.controls[e.name].dirty){new Date(this.formGroup.controls[e.name].value);let o=this.utilService.toISOString(new Date(this.formGroup.controls[e.name].value));this.formGroup.controls[e.name].setValue(o)}}),this.saveEvent.emit(this.formGroup.value)}borrar(){var e=this;return(0,i.Z)(function*(){yield(yield e.alertController.create({header:"Antenci\xf3n!! se va a borrar el elemento. \xbfContinuar?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{e.deleteEvent.emit(e.formGroup.value)}}]})).present()})()}transformDate(e){let a=e.getFullYear(),o=e.getMonth()+1,s=e.getDate();return`${a}-${o<10?"0"+o:o}-${s<10?"0"+s:s}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.Br),t.Y36(v.f),t.Y36(f.y),t.Y36(x.F))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editor-entity"]],inputs:{entity:"entity",setEntity:"setEntity"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[4,"ngFor","ngForOf"],["position","stacked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text",3,"placeholder","formControlName"],["type","number",3,"placeholder","formControlName"],[3,"formControlName"],["interface","popover","placeholder","Seleccione",3,"name","formControlName",4,"ngIf"],["interface","popover","placeholder","Seleccione",3,"name","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["datetime","datetime"],[3,"keepContentsMounted"],["locale","es-ES","id","datetime",3,"firstDayOfWeek","formControlName"],[3,"datetime"],["presentation","date","locale","es-ES",3,"id","preferWheel","formControlName"],["presentation","time","locale","es-ES",3,"id","preferWheel","formControlName"],["color","success",3,"disabled","click"],["slot","start","name","save"],["color","danger",3,"disabled","click",4,"ngIf"],["color","danger",3,"disabled","click"],["slot","start","name","close-circle"]],template:function(e,a){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.YNc(1,G,4,2,"ion-list",1),t.qZA()),2&e&&(t.Q6J("formGroup",a.formGroup),t.xp6(1),t.Q6J("ngIf",a.lstInput))},dependencies:[g.sg,g.O5,g.RF,g.n9,c.YG,c.nz,c.x4,c.Mj,c.gu,c.pK,c.Ie,c.Q$,c.q_,c.t9,c.n0,c.PQ,c.ki,c.w,c.as,c.QI,c.j9,d._Y,d.JJ,d.JL,d.sg,d.u]}),n})()},3380:(T,E,r)=>{r.d(E,{d:()=>g});var i=r(2504),t=r(6575),d=r(5591),f=r(4755),h=r(7002);function c(m,u){if(1&m){const l=i.EpF();i.TgZ(0,"ion-icon",3),i.NdJ("click",function(){i.CHM(l);const y=i.oxw();return i.KtG(y.add())}),i.qZA()}}function v(m,u){if(1&m){const l=i.EpF();i.TgZ(0,"ion-icon",4),i.NdJ("click",function(){i.CHM(l);const y=i.oxw();return i.KtG(y.cancel())}),i.qZA()}}function x(m,u){1&m&&i._UZ(0,"ion-spinner",5)}let g=(()=>{class m{constructor(l){this.seguridadService=l,this.addToolEntity=new i.vpe,this.cancelToolEntity=new i.vpe,this.WhoHasPermision=[t.u.ADMIN,t.u.GOD],this.havePermision=!1}ngOnInit(){const l=this.seguridadService.UserGet();this.havePermision=this.WhoHasPermision.some(p=>p==l.role)}add(){this.addToolEntity.emit(!0)}cancel(){this.cancelToolEntity.emit(!0)}}return m.\u0275fac=function(l){return new(l||m)(i.Y36(d.F))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-tool-entity"]],inputs:{isLoading:"isLoading",entityDescripcion:"entityDescripcion"},outputs:{addToolEntity:"addToolEntity",cancelToolEntity:"cancelToolEntity"},decls:3,vars:3,consts:[["class","hand","style","font-size: 30px;","color","primary","slot","icon-only","name","add-circle",3,"click",4,"ngIf"],["class","hand","style","font-size: 30px;","color","danger","slot","icon-only","name","arrow-back-outline",3,"click",4,"ngIf"],["name","dots",4,"ngIf"],["color","primary","slot","icon-only","name","add-circle",1,"hand",2,"font-size","30px",3,"click"],["color","danger","slot","icon-only","name","arrow-back-outline",1,"hand",2,"font-size","30px",3,"click"],["name","dots"]],template:function(l,p){1&l&&(i.YNc(0,c,1,0,"ion-icon",0),i.YNc(1,v,1,0,"ion-icon",1),i.YNc(2,x,1,0,"ion-spinner",2)),2&l&&(i.Q6J("ngIf",p.havePermision&&!p.isLoading&&!p.entityDescripcion),i.xp6(1),i.Q6J("ngIf",!p.isLoading&&p.entityDescripcion),i.xp6(1),i.Q6J("ngIf",p.isLoading))},dependencies:[f.O5,h.gu,h.PQ],styles:[".conectado[_ngcontent-%COMP%]{color:green}"]}),m})()}}]);