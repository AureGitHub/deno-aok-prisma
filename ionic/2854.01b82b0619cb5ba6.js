"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2854],{5590:(O,d,i)=>{i.r(d),i.d(d,{GastosPageModule:()=>A});var r=i(4755),v=i(9401),c=i(7002),y=i(7147),g=i(9915),u=i(5861),p=i(1699),f=i(5916),m=i(6575),t=i(2504),T=i(8175),G=i(7241),Z=i(5591),P=i(6014),E=i(3380);function _(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"app-editor-entity",4),t.NdJ("saveEvent",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.save(s))})("deleteEvent",function(s){t.CHM(e);const l=t.oxw();return t.KtG(l.borrar(s))})("cancelEvent",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancelToolEntity())}),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("entity",e.entitySelected)("setEntity",e.entityDescripcion)("isSaving",e.isSaving)("isDeleting",e.isDeleting)("isAlta",e.isAlta)}}function h(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"ion-row",5),t.NdJ("click",function(){const l=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.selectItem(l))}),t.TgZ(1,"ion-col"),t._uU(2),t.qZA(),t.TgZ(3,"ion-col"),t._uU(4),t.qZA(),t.TgZ(5,"ion-col"),t._uU(6),t.ALo(7,"number"),t.qZA(),t.TgZ(8,"ion-col"),t._uU(9),t.qZA()()}if(2&o){const e=a.$implicit;t.Q6J("ngClass",e.pendientecobro?"tableRow_pendientecobro":"tableRow"),t.xp6(2),t.Oqu(e.fecha_p),t.xp6(2),t.Oqu(e.descripcion),t.xp6(2),t.Oqu(t.lcZ(7,5,e.importe)),t.xp6(3),t.Oqu(e.obs_p.substring(0,10))}}const x=[{path:"",component:(()=>{class o extends f.t{constructor(e,n,s){super(e),this.myHttpService=e,this.utilService=n,this.seguridadService=s,this.entityName="gasto"}ngOnInit(){var e=this;return(0,u.Z)(function*(){e.loadList(),e.user=e.seguridadService.UserGet()})()}addToolEntity(){const e=this.utilService.toISOString(new Date);this.entitySelected={fecha:e},this.entityDescripcion=p.Z.giveMeEntity(this.entityName)}selectItem(e){var n=this;return(0,u.Z)(function*(){"servicio"!=e.descripcion||n.user.role==m.u.GOD?(n.entitySelected=e,n.entityDescripcion=p.Z.giveMeEntity(n.entityName)):yield n.utilService.alert("Los gastos de tipo servicios no se pueden modificar/borrar")})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(T.y),t.Y36(G.f),t.Y36(Z.F))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-gastos"]],features:[t.qOj],decls:17,vars:4,consts:[[3,"isLoading","entityDescripcion","addToolEntity","cancelToolEntity"],[4,"ngIf"],[1,"tableTitle"],["class","tableRow",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"entity","setEntity","isSaving","isDeleting","isAlta","saveEvent","deleteEvent","cancelEvent"],[1,"tableRow",3,"ngClass","click"]],template:function(e,n){1&e&&(t.TgZ(0,"app-tool-entity",0),t.NdJ("addToolEntity",function(){return n.addToolEntity()})("cancelToolEntity",function(){return n.cancelToolEntity()}),t.qZA(),t.YNc(1,_,2,5,"div",1),t.TgZ(2,"ion-card")(3,"ion-card-title"),t._uU(4,"Gastos"),t.qZA(),t.TgZ(5,"ion-card-content")(6,"ion-grid")(7,"ion-row",2)(8,"ion-col"),t._uU(9,"Fecha"),t.qZA(),t.TgZ(10,"ion-col"),t._uU(11,"Tipo"),t.qZA(),t.TgZ(12,"ion-col"),t._uU(13,"Importe"),t.qZA(),t.TgZ(14,"ion-col"),t._uU(15,"Obs"),t.qZA()(),t.YNc(16,h,10,7,"ion-row",3),t.qZA()()()),2&e&&(t.Q6J("isLoading",n.isLoading)("entityDescripcion",n.entityDescripcion),t.xp6(1),t.Q6J("ngIf",n.entityDescripcion),t.xp6(15),t.Q6J("ngForOf",n.lstPrincipal))},dependencies:[r.mk,r.sg,r.O5,c.PM,c.FN,c.Dq,c.wI,c.jY,c.Nd,P.G,E.d,r.JJ],styles:[".tableTitle[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#444242;font-weight:700;font-size:14px}.tableRow[_ngcontent-%COMP%]{text-align:center;font-size:13px;border:1px solid;cursor:pointer}.tableRow_pendientecobro[_ngcontent-%COMP%]{text-align:center;font-size:13px;border:1px solid;cursor:pointer;background-color:#f3b7b7}.tableRowSeleded[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#00008b;cursor:pointer}.tableRow[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00008b}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(x),g.Bz]}),o})(),A=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[r.ez,v.u5,c.Pc,M,y.q]}),o})()}}]);