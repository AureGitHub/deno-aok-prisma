"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8846],{8846:(w,g,e)=>{e.r(g),e.d(g,{ListaCompraPageModule:()=>M});var u=e(4755),f=e(9401),c=e(7002),m=e(9915),p=e(5861),d=e(8175),C=e(5916),t=e(2504),L=e(6014),y=e(3380);function v(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"div")(1,"app-editor-entity",3),t.NdJ("saveEvent",function(a){t.CHM(i);const r=t.oxw();return t.KtG(r.save(a))})("deleteEvent",function(a){t.CHM(i);const r=t.oxw();return t.KtG(r.borrar(a))})("cancelEvent",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.cancelToolEntity())}),t.qZA()()}if(2&n){const i=t.oxw();t.xp6(1),t.Q6J("entity",i.entitySelected)("setEntity",i.entityDescripcion)("isSaving",i.isSaving)("isDeleting",i.isDeleting)("isAlta",i.isAlta)}}function P(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col",4),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw();return t.KtG(!l.isLoading&&l.delLista(r))}),t.TgZ(2,"span",5),t._uU(3),t.qZA()()()}if(2&n){const i=s.$implicit;t.xp6(3),t.Oqu(i.descripcion)}}function T(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"span",6),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw();return t.KtG(!l.isLoading&&l.addLista(r))}),t._uU(3),t.qZA()(),t.TgZ(4,"ion-col")(5,"ion-icon",7),t.NdJ("click",function(){const r=t.CHM(i).$implicit,l=t.oxw();return t.KtG(l.selectItem(r))}),t.qZA()()()}if(2&n){const i=s.$implicit;t.xp6(3),t.Oqu(i.descripcion)}}let h=(()=>{class n extends C.t{constructor(i){super(i),this.myHttpService=i,this.lstListaCompra=[],this.entityName="producto"}ngOnInit(){var i=this;return(0,p.Z)(function*(){yield i.ngOnInitBase()})()}compare(i,o){return i.descripcion<o.descripcion?-1:i.descripcion>o.descripcion?1:0}ordenar(){this.lstPrincipal=this.lstPrincipal.sort(this.compare),this.lstListaCompra=this.lstListaCompra.sort(this.compare)}ownloadList(){var i=this;return(0,p.Z)(function*(){const o=new d.a("get",i.app,"lista-compra");i.lstListaCompra=[],i.lstListaCompra=yield i.myHttpService.ejecuteURL(o),i.ordenar()})()}addLista(i){var o=this;return(0,p.Z)(function*(){o.isLoading=!0;const a=new d.a("post",o.app,"lista-compra",null,{productoId:i.id},null);yield o.myHttpService.ejecuteURL(a),o.isLoading=!1,o.lstListaCompra.push({id:i.id,descripcion:i.descripcion,productoId:i.id}),o.lstPrincipal=o.lstPrincipal.filter(r=>r!=i),o.ordenar()})()}delLista(i){var o=this;return(0,p.Z)(function*(){o.isLoading=!0;const a=new d.a("delete",o.app,"lista-compra",null,null,i.productoId);yield o.myHttpService.ejecuteURL(a),o.isLoading=!1,o.lstPrincipal.push({id:i.productoId,descripcion:i.descripcion}),o.lstListaCompra=o.lstListaCompra.filter(r=>r!=i),o.ordenar()})()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(d.y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-lista-compra"]],features:[t.qOj],decls:14,vars:5,consts:[[3,"isLoading","entityDescripcion","addToolEntity","cancelToolEntity"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"entity","setEntity","isSaving","isDeleting","isAlta","saveEvent","deleteEvent","cancelEvent"],[1,"hand",3,"click"],[1,"item"],[1,"item","hand",3,"click"],["name","pencil-outline",1,"hand",2,"font-size","20px",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"app-tool-entity",0),t.NdJ("addToolEntity",function(){return o.addToolEntity()})("cancelToolEntity",function(){return o.cancelToolEntity()}),t.qZA(),t.YNc(1,v,2,5,"div",1),t.TgZ(2,"ion-card")(3,"ion-card-title"),t._uU(4,"Lista"),t.qZA(),t.TgZ(5,"ion-card-content")(6,"ion-grid"),t.YNc(7,P,4,1,"ion-row",2),t.qZA()()(),t.TgZ(8,"ion-card")(9,"ion-card-title"),t._uU(10,"Productos"),t.qZA(),t.TgZ(11,"ion-card-content")(12,"ion-grid"),t.YNc(13,T,6,1,"ion-row",2),t.qZA()()()),2&i&&(t.Q6J("isLoading",o.isLoading)("entityDescripcion",o.entityDescripcion),t.xp6(1),t.Q6J("ngIf",o.entityDescripcion),t.xp6(6),t.Q6J("ngForOf",o.lstListaCompra),t.xp6(6),t.Q6J("ngForOf",o.lstPrincipal))},dependencies:[u.sg,u.O5,c.PM,c.FN,c.Dq,c.wI,c.jY,c.gu,c.Nd,L.G,y.d],styles:[".tableTitle[_ngcontent-%COMP%]{text-align:left;color:#fff;background-color:#444242;font-weight:700;font-size:14px}.tableRow[_ngcontent-%COMP%]{text-align:center;font-size:13px;cursor:pointer}.tableRowSeleded[_ngcontent-%COMP%]{text-align:center;color:#fff;background-color:#00008b;cursor:pointer}.tableRow[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00008b}.item[_ngcontent-%COMP%]{border:solid 1px;padding:5px;border-radius:5px}"]}),n})();var _=e(2263);const x=[{path:"",component:h}];let E=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(x),_.M,m.Bz]}),n})();var Z=e(7147);let M=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,f.u5,c.Pc,E,Z.q,_.M]}),n})()}}]);