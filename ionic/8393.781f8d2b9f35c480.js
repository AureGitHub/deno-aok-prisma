"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8393],{8393:(K,g,l)=>{l.r(g),l.d(g,{LoginPageModule:()=>q});var d=l(4755),r=l(9401),s=l(7002),u=l(9915),n=l(2504),f=l(5591),h=l(7241);function v(e,i){1&e&&(n.TgZ(0,"ion-text",9),n._uU(1,"email is required or not valid."),n.qZA())}function x(e,i){1&e&&(n.TgZ(0,"ion-text",9),n._uU(1,"paswword is required"),n.qZA())}const y=function(){return["/forgot-password"]};function P(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"form",2),n.NdJ("ngSubmit",function(){n.CHM(t);const a=n.oxw();return n.KtG(a.onSubmit())}),n._UZ(1,"ion-input",3)(2,"span",4),n.YNc(3,v,2,0,"ion-text",5),n._UZ(4,"br")(5,"ion-input",6),n.YNc(6,x,2,0,"ion-text",5),n.TgZ(7,"ion-row")(8,"ion-col")(9,"ion-button",7),n._uU(10,"Sign In"),n.qZA(),n.TgZ(11,"a",8),n._uU(12,"Forgot Password?"),n.qZA()()()()}if(2&e){const t=n.oxw();n.Q6J("formGroup",t.loginForm),n.xp6(3),n.Q6J("ngIf",t.isSubmitted&&((null==t.email.errors?null:t.email.errors.required)||(null==t.email.errors?null:t.email.errors.email))),n.xp6(3),n.Q6J("ngIf",t.isSubmitted&&(null==t.password.errors?null:t.password.errors.required)),n.xp6(3),n.Q6J("disabled",t.isSubmitted||!t.loginForm.valid),n.xp6(2),n.Q6J("routerLink",n.DdM(5,y))}}const C=function(){return{exact:!0}};function I(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"ion-item")(1,"ion-button",11),n.NdJ("click",function(){const c=n.CHM(t).$implicit,X=n.oxw(2);return n.KtG(X.selectApp(c))}),n._uU(2),n.qZA()()}if(2&e){const t=i.$implicit;n.xp6(1),n.Q6J("routerLinkActiveOptions",n.DdM(2,C)),n.xp6(1),n.hij(" ",t.descripcion," ")}}function T(e,i){if(1&e&&(n.TgZ(0,"ion-list")(1,"ion-list-header")(2,"ion-label"),n._uU(3,"Aplicaciones disponibles"),n.qZA()(),n.YNc(4,I,3,3,"ion-item",10),n.qZA()),2&e){const t=n.oxw();n.xp6(4),n.Q6J("ngForOf",t.user.apps)}}const b=[{path:"",component:(()=>{class e{constructor(t,o,a,c){this.activatedRoute=t,this.seguridadService=o,this.utilService=a,this.router=c,this.isSubmitted=!1,this.user=null}ngOnInit(){this.loginForm=new r.cw({email:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",r.kI.required)}),this.loginForm.controls.email.setValue("ago11d@a.es"),this.loginForm.controls.password.setValue("12345678")}onSubmit(){this.isSubmitted=!0,this.utilService.subjectLoading.next({message:"Comrpobando usuario..."}),this.seguridadService.getUserServer(this.loginForm.value).then(o=>{this.isSubmitted=!1,o&&(this.user=o.secure.user,this.user.token=o.secure.token,this.seguridadService.UserGuardar(this.user),this.user.someApp||this.router.navigate([`/${this.user.app}`]))}).catch(o=>{this.isSubmitted=!1,alert(JSON.stringify(o))}).finally(()=>{this.utilService.subjectLoading.next(null)})}selectApp(t){console.log(t),this.user.role=t.role,this.user.estado=t.estado,this.user.app=t.descripcion,this.user.appId=t.id,this.user.isAdmin=t.isAdmin,this.user.isGod=t.isGod,this.seguridadService.UserGuardar(this.user),this.router.navigate([`/${this.user.app}`])}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(u.gz),n.Y36(f.F),n.Y36(h.f),n.Y36(u.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["login-folder"]],decls:2,vars:2,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],[3,"formGroup","ngSubmit"],["label","Email","type","email","formControlName","email","label-placement","floating","fill","outline","placeholder",""],[1,"danger"],["color","danger",4,"ngIf"],["label","Password","type","password","labelPlacement","stacked","formControlName","password","label-placement","floating","fill","outline","placeholder",""],["type","submit","color","danger","expand","block",3,"disabled"],[1,"small-text",3,"routerLink"],["color","danger"],[4,"ngFor","ngForOf"],["fill","clear","color","dark","routerDirection","root",3,"routerLinkActiveOptions","click"]],template:function(t,o){1&t&&(n.YNc(0,P,13,6,"form",0),n.YNc(1,T,5,1,"ion-list",1)),2&t&&(n.Q6J("ngIf",!o.user),n.xp6(1),n.Q6J("ngIf",o.user&&o.user.someApp))},dependencies:[d.sg,d.O5,r._Y,r.JJ,r.JL,s.YG,s.wI,s.pK,s.Ie,s.Q$,s.q_,s.yh,s.Nd,s.yW,s.j9,s.Fo,u.rH,r.sg,r.u],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[u.Bz.forChild(b),u.Bz]}),e})();var w=l(4989),p=l(1180),_=l(387),S=l(568),m=l(7594);let F=(()=>{class e extends m.s{}return(0,p.Z)(e,"\u0275fac",function(){let i;return function(o){return(i||(i=n.n5z(e)))(o||e)}}()),(0,p.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["MinusIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z","fill","currentColor"]],template:function(t,o){1&t&&(n.O4$(),n.TgZ(0,"svg",0),n._UZ(1,"path",1),n.qZA()),2&t&&(n.Tol(o.getClassNames()),n.uIk("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},dependencies:[d.ez],encapsulation:2})),e})(),Z=(()=>{class e extends m.s{}return(0,p.Z)(e,"\u0275fac",function(){let i;return function(o){return(i||(i=n.n5z(e)))(o||e)}}()),(0,p.Z)(e,"\u0275cmp",n.Xpm({type:e,selectors:[["PlusIcon"]],standalone:!0,features:[n.qOj,n.jDz],decls:6,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_306_11939)"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],["id","clip0_306_11939"],["width","14","height","14","fill","white"]],template:function(t,o){1&t&&(n.O4$(),n.TgZ(0,"svg",0)(1,"g",1),n._UZ(2,"path",2),n.qZA(),n.TgZ(3,"defs")(4,"clipPath",3),n._UZ(5,"rect",4),n.qZA()()()),2&t&&(n.Tol(o.getClassNames()),n.uIk("aria-label",o.ariaLabel)("aria-hidden",o.ariaHidden)("role",o.role))},encapsulation:2})),e})(),Y=(()=>{class e{}return(0,p.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,p.Z)(e,"\u0275mod",n.oAB({type:e})),(0,p.Z)(e,"\u0275inj",n.cJS({imports:[d.ez,_.m8,S.T,Z,F,_.m8]})),e})(),G=(()=>{class e{}return(0,p.Z)(e,"\u0275fac",function(t){return new(t||e)}),(0,p.Z)(e,"\u0275mod",n.oAB({type:e})),(0,p.Z)(e,"\u0275inj",n.cJS({imports:[d.ez]})),e})(),q=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[d.ez,r.u5,s.Pc,M,w.hJ,r.UX,Y,G]}),e})()}}]);