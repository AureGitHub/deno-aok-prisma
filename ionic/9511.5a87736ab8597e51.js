"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9511],{1699:(x,E,r)=>{r.d(E,{Z:()=>t});var o=r(9401);class t{static giveMeEntity(f){switch(f){case"empleada":return[{name:"nombre",type:"text",title:"nombre",validators:[o.kI.required]},{name:"baja",type:"checkbox",title:"baja",default:!1}];case"servicio":return[{name:"empleadaId",type:"select",title:"Empleada",multiple:!1,coleccion:"empleadas",id:"id",desc:"nombre",validators:[o.kI.required]},{name:"fecha",type:"date",title:"fecha",validators:[o.kI.required]},{name:"horaInicio",type:"time",title:"Hora inicio",validators:[o.kI.required]},{name:"horaFin",type:"time",title:"hora fin",validators:[o.kI.required]},{name:"suplLevantar",type:"checkbox",title:"sup. Levantar",default:!0},{name:"pagado",type:"checkbox",title:"pagado",default:!1}];case"agenda":return[{name:"fecha",type:"date",title:"fecha",validators:[o.kI.required]},{name:"observacion",type:"text",title:"observaci\xf3n",validators:[o.kI.required]},{name:"tipoagendaId",type:"select",title:"Tipo",multiple:!1,coleccion:"tipoagenda",id:"id",desc:"descripcion",validators:[o.kI.required]}]}return[]}}},6014:(x,E,r)=>{r.d(E,{G:()=>G});var o=r(5861),t=r(2504),m=r(9401),f=r(8175),c=r(7002),h=r(7241),g=r(4755);function s(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"ion-input",9),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",n.title),t.s9C("formControlName",n.name)}}function u(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"ion-input",10),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.s9C("placeholder",n.title),t.s9C("formControlName",n.name)}}function p(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"ion-checkbox",11),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.s9C("formControlName",n.name)}}function d(e,a){if(1&e&&(t.TgZ(0,"ion-select-option",15),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.desc)}}function y(e,a){if(1&e&&(t.TgZ(0,"ion-select",13),t.YNc(1,d,2,2,"ion-select-option",14),t.qZA()),2&e){const n=t.oxw(3).$implicit,_=t.oxw(2);t.MGl("name","'",n.name,"'"),t.s9C("formControlName",n.name),t.xp6(1),t.Q6J("ngForOf",_.objlstSelect[n.name])}}function Z(e,a){if(1&e&&(t.ynx(0),t.YNc(1,y,2,3,"ion-select",12),t.BQk()),2&e){const n=t.oxw(2).$implicit,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",_.objlstSelect[n.name])}}function I(e,a){if(1&e&&t._UZ(0,"ion-datetime",18),2&e){const n=t.oxw(3).$implicit;t.s9C("formControlName",n.name),t.Q6J("firstDayOfWeek",1)}}function b(e,a){1&e&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",16),t.TgZ(4,"ion-modal",17),t.YNc(5,I,1,2,"ng-template"),t.qZA()(),t.BQk()),2&e&&(t.xp6(4),t.Q6J("keepContentsMounted",!0))}function N(e,a){if(1&e&&t._UZ(0,"ion-datetime",20),2&e){const n=t.oxw(3).$implicit;t.MGl("id","datetime_",n.name,""),t.s9C("formControlName",n.name),t.Q6J("preferWheel",!1)}}function k(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,N,1,3,"ng-template"),t.qZA()(),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",n.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function w(e,a){if(1&e&&t._UZ(0,"ion-datetime",21),2&e){const n=t.oxw(3).$implicit;t.MGl("id","datetime_",n.name,""),t.s9C("formControlName",n.name),t.Q6J("preferWheel",!1)}}function Q(e,a){if(1&e&&(t.ynx(0),t._UZ(1,"br"),t.TgZ(2,"ion-item"),t._UZ(3,"ion-datetime-button",19),t.TgZ(4,"ion-modal",17),t.YNc(5,w,1,3,"ng-template"),t.qZA()(),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(3),t.MGl("datetime","datetime_",n.name,""),t.xp6(1),t.Q6J("keepContentsMounted",!0)}}function O(e,a){if(1&e&&(t.ynx(0),t.TgZ(1,"ion-label",6),t._uU(2),t.qZA(),t.ynx(3,7),t.YNc(4,s,2,2,"ng-container",8),t.YNc(5,u,2,2,"ng-container",8),t.YNc(6,p,2,1,"ng-container",8),t.YNc(7,Z,2,1,"ng-container",8),t.YNc(8,b,6,1,"ng-container",8),t.YNc(9,k,6,2,"ng-container",8),t.YNc(10,Q,6,2,"ng-container",8),t.BQk()()),2&e){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(n.title),t.xp6(1),t.Q6J("ngSwitch",n.type),t.xp6(1),t.Q6J("ngSwitchCase","text"),t.xp6(1),t.Q6J("ngSwitchCase","number"),t.xp6(1),t.Q6J("ngSwitchCase","checkbox"),t.xp6(1),t.Q6J("ngSwitchCase","select"),t.xp6(1),t.Q6J("ngSwitchCase","datetime"),t.xp6(1),t.Q6J("ngSwitchCase","date"),t.xp6(1),t.Q6J("ngSwitchCase","time")}}function S(e,a){if(1&e&&(t.TgZ(0,"ion-item"),t.YNc(1,O,11,9,"ng-container",1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.Q6J("ngIf",!n.hide)}}function M(e,a){1&e&&t._UZ(0,"ion-spinner")}function J(e,a){1&e&&(t.TgZ(0,"ion-label"),t._uU(1,"Guardar"),t.qZA())}function U(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ion-button",22),t.NdJ("click",function(){t.CHM(n);const i=t.oxw(2);return t.KtG(i.borrar())}),t._UZ(1,"ion-icon",23),t._uU(2," Borrar "),t.qZA()}if(2&e){const n=t.oxw(2);t.Q6J("disabled",n.isDeleting)}}function D(e,a){if(1&e){const n=t.EpF();t.TgZ(0,"ion-list"),t._UZ(1,"ion-item"),t.YNc(2,S,2,1,"ion-item",2),t.TgZ(3,"ion-item")(4,"ion-button",3),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.onSubmit())}),t._UZ(5,"ion-icon",4),t.YNc(6,M,1,0,"ion-spinner",1),t.YNc(7,J,2,0,"ion-label",1),t.qZA(),t.YNc(8,U,3,1,"ion-button",5),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(2),t.Q6J("ngForOf",n.lstInput),t.xp6(2),t.Q6J("disabled",n.isSaving||!n.formGroup.valid),t.xp6(2),t.Q6J("ngIf",n.isSaving),t.xp6(1),t.Q6J("ngIf",!n.isSaving),t.xp6(1),t.Q6J("ngIf",n.entity&&n.entity.id)}}let G=(()=>{class e{set setEntity(n){this.lstInput=n;const _={};n.forEach(i=>{if(_[i.name]=new m.NI(""),i.validators){const l=[];i.validators.forEach(C=>{l.push(C)}),l.length>0&&_[i.name].setValidators(l)}}),this.formGroup=new m.cw(_),this.entity.id?(this.formGroup.addControl("id",new m.NI("")),this.formGroup.controls.id.setValue(this.entity.id),n.forEach(i=>{this.formGroup.controls[i.name].setValue(this.entity[i.name])})):(n.forEach(i=>{this.entity[i.name]&&this.formGroup.controls[i.name].setValue(this.entity[i.name])}),n.forEach(i=>{i.hasOwnProperty("default")&&this.formGroup.controls[i.name].setValue(i.default)})),this.CreateListForSelect(n)}constructor(n,_,i){this.alertController=n,this.utilService=_,this.myHttpService=i,this.lstInput=[],this.isSaving=!1,this.isDeleting=!1,this.objlstSelect={},this.saveEvent=new t.vpe,this.deleteEvent=new t.vpe}ngOnInit(){}CreateListForSelect(n){var _=this;n.forEach(function(){var i=(0,o.Z)(function*(l){if("select"==l.type){const C=new f.a("get","gestion-casa",l.coleccion);let A=yield _.myHttpService.ejecuteURL(C),T=[];A.forEach(v=>{T.push({id:parseInt(v[l.id]),desc:v[l.desc]})}),_.objlstSelect[l.name]=T}});return function(l){return i.apply(this,arguments)}}())}onSubmit(){this.lstInput.forEach(n=>{if(("date"==n.type||"datetime"==n.type||"time"==n.type)&&this.formGroup.controls[n.name].dirty){new Date(this.formGroup.controls[n.name].value);let i=this.utilService.toISOString(new Date(this.formGroup.controls[n.name].value));this.formGroup.controls[n.name].setValue(i)}}),this.saveEvent.emit(this.formGroup.value)}borrar(){var n=this;return(0,o.Z)(function*(){yield(yield n.alertController.create({header:"Antenci\xf3n!! se va a borrar el elemento. \xbfContinuar?",buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:()=>{n.deleteEvent.emit(n.formGroup.value)}}]})).present()})()}transformDate(n){let _=n.getFullYear(),i=n.getMonth()+1,l=n.getDate();return`${_}-${i<10?"0"+i:i}-${l<10?"0"+l:l}`}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(c.Br),t.Y36(h.f),t.Y36(f.y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-editor-entity"]],inputs:{entity:"entity",setEntity:"setEntity"},outputs:{saveEvent:"saveEvent",deleteEvent:"deleteEvent"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],[4,"ngFor","ngForOf"],["color","success",3,"disabled","click"],["slot","start","name","save"],["color","danger",3,"disabled","click",4,"ngIf"],["position","stacked"],[3,"ngSwitch"],[4,"ngSwitchCase"],["type","text",3,"placeholder","formControlName"],["type","number",3,"placeholder","formControlName"],[3,"formControlName"],["interface","popover","placeholder","Seleccione",3,"name","formControlName",4,"ngIf"],["interface","popover","placeholder","Seleccione",3,"name","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["datetime","datetime"],[3,"keepContentsMounted"],["locale","es-ES","id","datetime",3,"firstDayOfWeek","formControlName"],[3,"datetime"],["presentation","date","locale","es-ES",3,"id","preferWheel","formControlName"],["presentation","time","locale","es-ES",3,"id","preferWheel","formControlName"],["color","danger",3,"disabled","click"],["slot","start","name","close-circle"]],template:function(n,_){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return _.onSubmit()}),t.YNc(1,D,9,5,"ion-list",1),t.qZA()),2&n&&(t.Q6J("formGroup",_.formGroup),t.xp6(1),t.Q6J("ngIf",_.lstInput))},dependencies:[g.sg,g.O5,g.RF,g.n9,c.YG,c.nz,c.x4,c.Mj,c.gu,c.pK,c.Ie,c.Q$,c.q_,c.t9,c.n0,c.PQ,c.ki,c.w,c.as,c.QI,c.j9,m._Y,m.JJ,m.JL,m.sg,m.u]}),e})()},3380:(x,E,r)=>{r.d(E,{d:()=>g});var o=r(2504),t=r(4755),m=r(7002);function f(s,u){if(1&s){const p=o.EpF();o.TgZ(0,"ion-icon",3),o.NdJ("click",function(){o.CHM(p);const y=o.oxw();return o.KtG(y.add())}),o.qZA()}}function c(s,u){if(1&s){const p=o.EpF();o.TgZ(0,"ion-icon",4),o.NdJ("click",function(){o.CHM(p);const y=o.oxw();return o.KtG(y.cancel())}),o.qZA()}}function h(s,u){1&s&&o._UZ(0,"ion-spinner",5)}let g=(()=>{class s{constructor(){this.addToolEntity=new o.vpe,this.cancelToolEntity=new o.vpe}ngOnInit(){}add(){this.addToolEntity.emit(!0)}cancel(){this.cancelToolEntity.emit(!0)}}return s.\u0275fac=function(p){return new(p||s)},s.\u0275cmp=o.Xpm({type:s,selectors:[["app-tool-entity"]],inputs:{isLoading:"isLoading",entityDescripcion:"entityDescripcion"},outputs:{addToolEntity:"addToolEntity",cancelToolEntity:"cancelToolEntity"},decls:3,vars:3,consts:[["class","hand","style","font-size: 30px;","color","primary","slot","icon-only","name","add-circle",3,"click",4,"ngIf"],["class","hand","style","font-size: 30px;","color","danger","slot","icon-only","name","arrow-back-outline",3,"click",4,"ngIf"],["name","dots",4,"ngIf"],["color","primary","slot","icon-only","name","add-circle",1,"hand",2,"font-size","30px",3,"click"],["color","danger","slot","icon-only","name","arrow-back-outline",1,"hand",2,"font-size","30px",3,"click"],["name","dots"]],template:function(p,d){1&p&&(o.YNc(0,f,1,0,"ion-icon",0),o.YNc(1,c,1,0,"ion-icon",1),o.YNc(2,h,1,0,"ion-spinner",2)),2&p&&(o.Q6J("ngIf",!d.isLoading&&!d.entityDescripcion),o.xp6(1),o.Q6J("ngIf",!d.isLoading&&d.entityDescripcion),o.xp6(1),o.Q6J("ngIf",d.isLoading))},dependencies:[t.O5,m.gu,m.PQ],styles:[".conectado[_ngcontent-%COMP%]{color:green}"]}),s})()}}]);