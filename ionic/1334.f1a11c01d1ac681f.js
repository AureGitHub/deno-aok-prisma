"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1334],{1334:(y,A,l)=>{l.r(A),l.d(A,{AdministracionPageModule:()=>v});var p=l(6814),g=l(95),c=l(2511),d=l(242),h=l(3044),D=l(5861),t=l(6689);function U(i,u){if(1&i&&(t.TgZ(0,"ion-row",4)(1,"ion-col"),t._uU(2," Correo en rojo"),t.qZA(),t.TgZ(3,"ion-col")(4,"a",3),t._uU(5,"Correo"),t.qZA()()()),2&i){const o=t.oxw(2);t.xp6(4),t.cQ8("href","mailto:",o.lstAllEmailsInRed,"?body=",o.BodyMorosos,"&subject=",o.SubjectMorosos,"",t.LSH)}}function j(i,u){if(1&i&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"span",1),t._uU(4,"Administraci\xf3n"),t.qZA(),t._UZ(5,"br"),t.qZA()(),t.TgZ(6,"ion-row")(7,"ion-col"),t._uU(8,"Total jugadores:"),t.qZA(),t.TgZ(9,"ion-col"),t._uU(10),t.qZA()(),t.YNc(11,U,6,3,"ion-row",2),t.TgZ(12,"ion-row")(13,"ion-col"),t._uU(14),t.qZA(),t.TgZ(15,"ion-col")(16,"a",3),t._uU(17,"Correo"),t.qZA()()(),t.TgZ(18,"ion-row")(19,"ion-col"),t._uU(20,"Correo a todos"),t.qZA(),t.TgZ(21,"ion-col")(22,"a",3),t._uU(23,"Correo"),t.qZA()()()()),2&i){const o=t.oxw();t.xp6(10),t.Oqu(null==o.objData||null==o.objData.data?null:o.objData.data.totalUsers),t.xp6(1),t.Q6J("ngIf",o.anyUserInRed),t.xp6(3),t.Oqu(o.subjectUltimaApuesta),t.xp6(2),t.cQ8("href","mailto:",null==o.objData||null==o.objData.data?null:o.objData.data.lstAllEmails,"??body=",o.BodyUltimaApuesta,"&subject=",o.subjectUltimaApuesta,"",t.LSH),t.xp6(6),t.MGl("href","mailto:",null==o.objData||null==o.objData.data?null:o.objData.data.lstAllEmails,"?subject=Euromillones",t.LSH)}}const b=[{path:"",component:(()=>{var i;class u extends d.BasePage{constructor(a,e,s,n){super(a,n),this.myHttpService=a,this.utilService=e,this.alertController=s,this.seguridadService=n,this.BodyMorosos="Hola. Tu saldo es inferior a 1 euro. Si no lo incrementas, no jugar\xe1s la pr\xf3xima apuesta",this.SubjectMorosos="Euromillones. Saldo inferior a 1 Euro",this.subjectUltimaApuesta="",this.BodyUltimaApuesta="",this.lstAllEmailsInRed=""}ngOnInit(){var a=this;return(0,D.Z)(function*(){a.isLoading=!0;const e=new d.classHttp("get","Administracion",null,null,null,null);a.objData=yield a.myHttpService.ejecuteURL(e),a.isLoading=!1,a.getEmailInRed(),a.getsubjectUltimaApuesta(),a.getBodyUltimaApuesta()})()}getEmailInRed(){var a;const e=null===(a=this.objData)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.lstUserInConflictos.filter(s=>s.saldo<1);this.anyUserInRed=e.length>0,e.length>0&&(this.lstAllEmailsInRed=e.map(s=>s.email).join(","))}getMes(a){switch(parseInt(a)){case 1:return"Enero";case 2:return"Febrero";case 3:return"Marzo";case 4:return"Abril";case 5:return"Mayo";case 6:return"Junio";case 7:return"Julio";case 8:return"Agosto";case 9:return"Septiembre";case 10:return"Octubre";case 11:return"Noviembre";case 12:return"Diciembre"}return""}getsubjectUltimaApuesta(){var a=new Date,s=4-(0==a.getDay()?7:a.getDay());a.setDate(a.getDate()+s+1);const n=a.toLocaleDateString().split("/")[0],r=this.getMes(a.toLocaleDateString().split("/")[1]),m=a.toLocaleDateString().split("/")[2];this.subjectUltimaApuesta=`Euromillones. VIERNES,${n} de ${r} de ${m} `}getBodyUltimaApuesta(){var a,e,s,n,r;this.BodyUltimaApuesta="Hola, %0D%0A%0D%0A",this.BodyUltimaApuesta+=`La \xfaltima apuesta (${null===(a=this.objData)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.fechaUltimaApuesta}): ${null===(e=this.objData)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.ganadoUltimaApuesta} \u20ac`,this.BodyUltimaApuesta+="%0D%0A%0D%0A",this.BodyUltimaApuesta+=`Jugamos  ${null===(s=this.objData)||void 0===s||null===(s=s.data)||void 0===s?void 0:s.apostadoUltimaApuesta} de  ${null===(n=this.objData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.totalUsers} \u20ac`,this.BodyUltimaApuesta+="%0D%0A%0D%0A",this.BodyUltimaApuesta+="Con saldo rojo o casi rojo...",this.BodyUltimaApuesta+="%0D%0A%0D%0A",null===(r=this.objData)||void 0===r||null===(r=r.data)||void 0===r||r.lstUserInConflictos.forEach(m=>{this.BodyUltimaApuesta+=`${m.name} => ${m.saldo} \u20ac`,this.BodyUltimaApuesta+="%0D%0A%0D%0A"}),this.BodyUltimaApuesta+="%0D%0A%0D%0A",this.BodyUltimaApuesta+="%0D%0A%0D%0A",this.BodyUltimaApuesta+="Bizum : 636438660. De Lunes a Viernes. De 09:00 - 14:00. M\xednimo 10\u20ac. M\xe1ximo 20\u20ac",this.BodyUltimaApuesta+="%0D%0A%0D%0A",this.BodyUltimaApuesta+="Saludos"}}return(i=u).\u0275fac=function(a){return new(a||i)(t.Y36(d.MyHttpService),t.Y36(d.UtilService),t.Y36(c.Br),t.Y36(d.SeguridadService))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-administracion"]],features:[t.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"title"],["style","color: red",4,"ngIf"],["target","_blank",3,"href"],[2,"color","red"]],template:function(a,e){1&a&&t.YNc(0,j,24,7,"ion-grid",0),2&a&&t.Q6J("ngIf",!e.isLoading)},dependencies:[p.O5,c.wI,c.jY,c.Nd],styles:[".title[_ngcontent-%COMP%]{font-size:20px}"]}),u})()}];let v=(()=>{var i;class u{}return(i=u).\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[p.ez,g.u5,g.UX,c.Pc,h.Bz.forChild(b),d.SharedComponentsModule]}),u})()}}]);