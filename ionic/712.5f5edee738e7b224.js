"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[712],{712:(B,p,a)=>{a.r(p),a.d(p,{HomePageModule:()=>w});var u=a(6814),f=a(95),s=a(2511),_=a(3044),e=a(6689),l=a(242),d=a(5861),h=a(5875);function Z(o,r){1&o&&(e.TgZ(0,"ion-col",10),e._UZ(1,"ion-spinner",17),e.qZA())}function x(o,r){1&o&&(e.TgZ(0,"ion-col",10),e._uU(1," No hay bizums.. "),e.qZA())}function v(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-icon",18),e.NdJ("click",function(){e.CHM(n);const i=e.oxw(2);return e.KtG(i.getBizums())}),e.qZA()}}function U(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-col",21)(1,"ion-icon",23),e.NdJ("click",function(){e.CHM(n);const i=e.oxw().$implicit,c=e.oxw(2);return e.KtG(c.borrar(i))}),e.qZA()()}}function z(o,r){if(1&o&&(e.TgZ(0,"ion-row",19)(1,"ion-col",20),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"ion-col",20),e._uU(5),e.ALo(6,"number"),e.qZA(),e.TgZ(7,"ion-col",21)(8,"span"),e._uU(9),e.qZA()(),e.YNc(10,U,2,0,"ion-col",22),e.qZA()),2&o){const n=r.$implicit;e.Q6J("ngClass",1==n.estadoid?"enNaranja":"enVerde"),e.xp6(2),e.Oqu(e.xi3(3,5,n.fecha,"dd/MM/yyyy")),e.xp6(3),e.hij("",e.lcZ(6,8,n.importe)," \u20ac"),e.xp6(4),e.Oqu(n.estadodesc[0]),e.xp6(1),e.Q6J("ngIf",1==n.estadoid)}}function y(o,r){if(1&o){const n=e.EpF();e.TgZ(0,"ion-card",1)(1,"ion-card-header")(2,"ion-card-title")(3,"ion-chip")(4,"ion-avatar"),e._UZ(5,"img",2),e.qZA(),e.TgZ(6,"ion-label")(7,"span",3),e._uU(8),e.qZA()()()(),e.TgZ(9,"ion-card-subtitle"),e._uU(10),e.qZA()(),e.TgZ(11,"ion-card-content")(12,"ion-grid")(13,"ion-row")(14,"ion-col",4)(15,"span",5),e._uU(16," Saldo : "),e.TgZ(17,"ion-chip",6)(18,"span",7),e._uU(19),e.ALo(20,"number"),e.qZA()()()(),e.TgZ(21,"ion-col",8)(22,"ion-button",9),e.NdJ("click",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.userBizum=i.user)}),e._uU(23,"Hacer Bizum"),e.qZA()()(),e.TgZ(24,"ion-row"),e._UZ(25,"ion-col",10),e.qZA(),e.TgZ(26,"ion-row")(27,"ion-col",10)(28,"p"),e._uU(29,"Una vez que hagas el bizum desde tu banco, para comunic\xe1rmelo a mi tines que registrarlo en la aplicaci\xf3n pulsando en "),e.TgZ(30,"b"),e._uU(31,"Hacer Bizum"),e.qZA()(),e._UZ(32,"br"),e.TgZ(33,"p"),e._uU(34,"\xfaltimos bizums"),e.qZA(),e.TgZ(35,"p"),e._uU(36,"lo puedes borrar mientras est\xe9 pendiente (p)"),e.qZA()()(),e.TgZ(37,"ion-row"),e.YNc(38,Z,2,0,"ion-col",11),e.qZA(),e.TgZ(39,"ion-row"),e.YNc(40,x,2,0,"ion-col",11),e.qZA(),e.TgZ(41,"ion-row")(42,"ion-col",12),e.YNc(43,v,1,0,"ion-icon",13),e.qZA(),e._UZ(44,"ion-col",14),e.qZA(),e.YNc(45,z,11,10,"ion-row",15),e.qZA(),e.TgZ(46,"add-bizum",16),e.NdJ("saveEvent",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.refresh())})("cancelEvent",function(){e.CHM(n);const i=e.oxw();return e.KtG(i.userBizum=null)}),e.qZA()()()}if(2&o){const n=e.oxw();e.s9C("color",(null==n.user?null:n.user.saldo)<1?"danger":(null==n.user?null:n.user.saldo)>1&&(null==n.user?null:n.user.saldo)<2?"warning":"primary"),e.xp6(8),e.hij(" ",null==n.user?null:n.user.name,""),e.xp6(2),e.Oqu(null==n.user?null:n.user.email),e.xp6(7),e.Q6J("outline",!0),e.xp6(2),e.hij(" ",e.lcZ(20,10,null==n.user?null:n.user.saldo),"\u20ac"),e.xp6(19),e.Q6J("ngIf",n.isLoading),e.xp6(2),e.Q6J("ngIf",!n.isLoading&&n.lstBizums&&0==n.lstBizums.length),e.xp6(3),e.Q6J("ngIf",!n.isLoading),e.xp6(2),e.Q6J("ngForOf",n.lstBizums),e.xp6(1),e.Q6J("SetUser",n.userBizum)}}let C=(()=>{var o;class r{constructor(t,i,c){this.myHttpService=t,this.utilService=i,this.alertController=c}ngOnInit(){var t=this;return(0,d.Z)(function*(){yield t.getUser(),yield t.getBizums()})()}refresh(){var t=this;return(0,d.Z)(function*(){yield t.getBizums()})()}getBizums(){var t=this;return(0,d.Z)(function*(){t.lstBizums=[],t.isLoading=!0;const i={pagination:null,columns:[{name:"id",prop:"id",type:"number"},{name:"fecha",prop:"fecha",type:"date",OrderInit:"DESC"},{name:"importe",prop:"importe",type:"number"},{name:"E",prop:"estadodesc",type:"text"},{name:"E",prop:"estadoid",type:"number"},{name:"user",prop:"userid",type:"number",filterInit:` ux."userid" = ${t.userid}`,hide:!0}],mode:"C"};try{const c=new l.classHttp("get","userxbizum");t.myHttpService.objPagFilterOrder=i;const m=yield t.myHttpService.ejecuteURL(c);t.isLoading=!1,m&&(t.lstBizums=m.data)}catch{t.isLoading=!1}})()}getUser(){var t=this;return(0,d.Z)(function*(){try{const i=new l.classHttp("get","user",null,null,t.userid.toString()),c=yield t.myHttpService.ejecuteURL(i);c&&(t.user=c)}catch{}})()}borrar(t){var i=this;return(0,d.Z)(function*(){var S;yield(yield i.alertController.create({header:`Antenci\xf3n!! se va a borrar el bizum de importe ${t.importe} \u20ac. \xbfContinuar?`,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"OK",role:"confirm",handler:(S=(0,d.Z)(function*(){i.isLoading=!0;const g=new l.classHttp("delete","userxbizum",null,null,t.id);yield i.myHttpService.ejecuteURL(g),i.isLoading=!1,i.getBizums()}),function(){return S.apply(this,arguments)})}]})).present(),new l.classHttp("del","user",null,null,i.userid.toString())})()}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(l.MyHttpService),e.Y36(l.UtilService),e.Y36(s.Br))},o.\u0275cmp=e.Xpm({type:o,selectors:[["user-data"]],inputs:{userid:"userid"},decls:1,vars:1,consts:[[3,"color",4,"ngIf"],[3,"color"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],[2,"color","white"],["size","7"],[2,"font-size","20px"],[3,"outline"],[2,"font-size","20px","color","white"],["size","5"],["color","success",3,"click"],["size","12"],["size","12",4,"ngIf"],["size","3"],["name","refresh","color","success","style","font-size: 25px","class","hand",3,"click",4,"ngIf"],["size","9"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"SetUser","saveEvent","cancelEvent"],["name","dots"],["name","refresh","color","success",1,"hand",2,"font-size","25px",3,"click"],[3,"ngClass"],["size","4"],["size","2"],["size","2",4,"ngIf"],["color","danger","name","trash-outline",1,"hand",2,"font-size","20px",3,"click"]],template:function(t,i){1&t&&e.YNc(0,y,47,12,"ion-card",0),2&t&&e.Q6J("ngIf",i.user)},dependencies:[u.mk,u.sg,u.O5,s.BJ,s.YG,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.hM,s.wI,s.jY,s.gu,s.Q$,s.Nd,s.PQ,h.I,u.JJ,u.uU],styles:["ion-checkbox[_ngcontent-%COMP%]{--size: 32px;--checkbox-background-checked: #6815ec}ion-checkbox[_ngcontent-%COMP%]::part(container){border-radius:6px;border:2px solid #6815ec}"]}),r})();function T(o,r){if(1&o&&e._UZ(0,"user-data",1),2&o){const n=e.oxw();e.Q6J("userid",n.user.id)}}const b=[{path:"",component:(()=>{var o;class r{constructor(t){this.seguridadService=t,this.seguridadService.subjectUser.subscribe(i=>{this.user=i})}ngOnInit(){this.user=this.seguridadService.UserGet()}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(l.SeguridadService))},o.\u0275cmp=e.Xpm({type:o,selectors:[["home-ttec-euromillones"]],decls:1,vars:1,consts:[[3,"userid",4,"ngIf"],[3,"userid"]],template:function(t,i){1&t&&e.YNc(0,T,1,1,"user-data",0),2&t&&e.Q6J("ngIf",i.user)},dependencies:[u.O5,C]}),r})()}];let H=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[_.Bz.forChild(b),_.Bz]}),r})();var A=a(3355);let w=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,f.u5,s.Pc,H,A.S]}),r})()}}]);